/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
window.matchMedia=window.matchMedia||function(a){var e,c=a.documentElement,f=c.firstElementChild||c.firstChild,d=a.createElement("body"),b=a.createElement("div");b.id="mq-test-1";b.style.cssText="position:absolute;top:-100em";d.style.background="none";d.appendChild(b);return function(a){b.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>';c.insertBefore(d,f);e=42===b.offsetWidth;c.removeChild(d);return{matches:e,media:a}}}(document);
/* MatchMediaManager | Version 0.2 | http://wesleytodd.com/ */
var MatchMediaManager=function(j,k,l){var c=function(a,b){return typeof a==b},g=!c(k,"undefined")?k.each:function(a,b,i){if(null!==a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b,i);else if("[object Array]"==Object.prototype.toString(a)||a&&Object.prototype.hasOwnProperty.call(a,"callee"))for(var d=0,c=a.length;d<c&&b.call(i,a[d],d,a)!=={};d++);else for(d in a)if(b.call(i,a[d],d,a)==={})break},h=function(){var a=[];return{add:function(b){a.push(b)},fire:function(b){var c=
b;g(a,function(a){c=a.call(this,c)});return c},has:function(b){return c(b,"undefined")?!!a.length:-1!=a.indexOf(b)}}},m=function(a){c(j,"undefined")?window.addEventListener?window.addEventListener("resize",a):window.attachEvent("onresize",a):j(window).resize(a)},f=function(a){if(this instanceof f){var b=this;this._mediaQueries={};c(a,"object")&&g(a,function(a,d){if(!c(a.additionalTest,"undefined")){var e=a.additionalTest;delete a.additionalTest}b.addMediaQuery(d,a,e)});m(function(){b.testQueries()})}else return new f(a)};
f.prototype.testQueries=function(){g(this._mediaQueries,function(a){a.test()})};f.prototype.addMediaQuery=function(a,b,f){c(this._mediaQueries[a],"undefined")&&(this._mediaQueries[a]=new e(a));var d=this._mediaQueries[a];if(c(b,"function"))d.on(b);else c(b,"object")&&g(b,function(a,b){d[b](a)});c(f,"undefined")||d.additionalTest(f);if((a=d.test(!1))&&c(b,"function"))b();else if(a)b.on();else c(b.off,"function")&&b.off()};var e=function(a){this.query=a;this.matches=!1;this._on=h();this._off=h();this._additionalTests=
h()};e.prototype.on=function(a){this._on.add(a)};e.prototype.off=function(a){this._off.add(a)};e.prototype.additionalTest=function(a){this._additionalTests.add(a)};e.prototype.test=function(a){var a="undefined"!=typeof a?a:!0,b=matchMedia(this.query).matches;this._additionalTests.has()&&(b=this.fireAdditionalTests(b));a&&this.matches!==b&&(b?this.fireOn():this.fireOff());return this.matches=b};e.prototype.fireOn=function(){this._on.fire()};e.prototype.fireOff=function(){this._off.fire()};e.prototype.fireAdditionalTests=
function(a){return this._additionalTests.fire(a)};!c(l,"undefined")&&!0===l&&(f._internal={_t:c,each:g,resize:m,Callbacks:h,MediaQuery:e});return f}(window.jQuery,window._,MatchMediaManager);
